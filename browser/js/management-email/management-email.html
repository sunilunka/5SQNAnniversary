<div ng-show="dispatchInProgress" class="management-email-progress">
  <p ng-bind="dispatchStatus" class="management-email-message"></p>
</div>
<section class="management-email-page container-fluid">
  <header class="row">
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
      <div class="flex-container-row flex-vertical-center">
        <h2>Management - Email</h2>
        <a class="sqn-btn" ui-sref="management">Back To Management</a>
      </div>
  </header>
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
    <h3>Allocate a group to send the email to:</h3>
    <div class="flex-container-row flex-vertical-center">
      <button class="sqn-btn sqn-btn-flex" ng-repeat="group in addresses" ng-click="group.action(group)" ng-bind="group.title" ng-class="{'product-option-selected': group.ident === email.groupIdent }"></button>
    </div>
    <div>
      <p class="sqn-not-available-label" ng-hide="addresseesAdded">Please add an address group (above) to the email</p>
      <form name="newEmailForm" ng-submit="submitNewEmail()" novalidate>
        <label>Subject:</label>
        <input ng-model="email.subject" type="text" class="sqnInputActive management-email-form-field" name="emailSubject" required></input>
        <label>Email Body</label>
        <textarea ng-model="email.body" type="text" class="sqnInputActive management-email-form-field" name="emailBody" required></textarea>
        <input type="submit" class="sqn-btn-positive" ng-disabled="newEmailForm.$invalid" ng-class="{'sqn-btn-disabled': newEmailForm.$invalid }"></input>
      </form>
    </div>
  </div>
</section>
